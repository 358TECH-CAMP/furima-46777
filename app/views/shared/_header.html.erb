<%# app/views/shared/_header.html.erb %>
<%# CSS：app/assets/stylesheets/shared/header.css %>

<header class='top-page-header'>
  <div class='search-bar-contents'>
    <%# ロゴをクリックするとトップページへ %>
    <%= link_to image_tag("furima-logo-color.png", class: "furima-icon"), root_path %>

    <%# 検索フォーム（現時点ではダミー） %>
    <form class="search-form" action="#">
      <input class='input-box' placeholder='キーワードから探す'>
      <button class="search-button">
        <%= image_tag "search.png", class: "search-icon" %>
      </button>
    </form>
  </div>

  <div class='nav'>
    <ul class='lists-left'>
      <li><%= link_to 'カテゴリー', "#", class: "category-list" %></li>
      <li><%= link_to 'ブランド', "#", class: "brand-list" %></li>
    </ul>

    <ul class='lists-right'>
      <%# ------------------------------ %>
      <%# Deviseログイン状態による分岐 %>
      <%# ------------------------------ %>

      <% if user_signed_in? %>
        <%# ログイン中：ニックネーム表示 %>
        <li>
          <%= link_to current_user.nickname, "#", class: "user-nickname" %>
        </li>
        

        <%# ログアウト（DELETEリクエスト） %>
        <li>
          <%= link_to 'ログアウト',
                      destroy_user_session_path,
                      data: { turbo_method: :delete },
                      class: "logout" %>
        </li>
      <% else %>
        <%# 未ログイン：ログイン画面へ %>
        <li>
          <%= link_to 'ログイン',
                      new_user_session_path,
                      class: "login" %>
        </li>

        <%# 未ログイン：新規登録画面へ %>
        <li>
          <%= link_to '新規登録',
                      new_user_registration_path,
                      class: "sign-up" %>
        </li>
      <% end %>
    </ul>
  </div>
</header>
